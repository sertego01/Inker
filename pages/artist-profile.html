<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inker</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/artist-profile.css">
    <link rel="stylesheet" href="../css/contact-widget.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-logo">
                <span>Inker</span>
            </a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="find-styles.html" class="nav-link">Styles</a>
                </li>
                <li class="nav-item">
                    <a href="find-artists.html" class="nav-link">Artist</a>
                </li>
                <li class="nav-item">
                    <a href="login.html" class="nav-button">Login</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Artist Profile Section -->
    <section class="artist-profile-section">
        <div class="profile-container">
            <!-- Artist Header -->
            <div class="artist-header">
                <div class="artist-avatar">
                    <img src="../images/artist1.jpg" alt="Artist Avatar" id="artistAvatar">
                </div>
                <div class="artist-info">
                    <h1 id="artistName">Alex Rivera</h1>
                    <p id="artistStudio">Ink Studio</p>
                    <p id="artistLocation">üìç New York, NY</p>
                    <div class="artist-rating">
                        <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        <span class="rating-text">4.9 (127 reviews)</span>
                    </div>
                    <div class="artist-styles">
                        <span class="style-tag">Traditional</span>
                        <span class="style-tag">Realistic</span>
                        <span class="style-tag">Blackwork</span>
                    </div>
                </div>
                <div class="artist-actions">
                    <button class="btn-primary" id="bookAppointmentBtn">Book Appointment</button>
                    <button class="btn-secondary" id="favoriteBtn">‚ù§Ô∏è Add to Favorites</button>
                    <button class="btn-secondary" id="shareBtn">üì§ Share</button>
                </div>
            </div>

            <!-- Artist Content -->
            <div class="artist-content">
                <!-- About Section -->
                <div class="content-card">
                    <h2>About</h2>
                    <p id="artistBio">With over 8 years of experience in the tattoo industry, Alex specializes in traditional and realistic styles. Known for attention to detail and creating meaningful pieces that tell a story. Based in New York, Alex works at Ink Studio and has completed over 500+ tattoos.</p>
                </div>

                <!-- Portfolio Section -->
                <div class="content-card">
                    <h2>Portfolio</h2>
                    <div class="portfolio-grid" id="portfolioGrid">
                        <div class="portfolio-item">
                            <img src="../images/artist1.jpg" alt="Portfolio work 1">
                            <div class="portfolio-overlay">
                                <button class="portfolio-btn" onclick="openImageModal(this)">View</button>
                            </div>
                        </div>
                        <div class="portfolio-item">
                            <img src="../images/artist2.jpg" alt="Portfolio work 2">
                            <div class="portfolio-overlay">
                                <button class="portfolio-btn" onclick="openImageModal(this)">View</button>
                            </div>
                        </div>
                        <div class="portfolio-item">
                            <img src="../images/artist3.jpg" alt="Portfolio work 3">
                            <div class="portfolio-overlay">
                                <button class="portfolio-btn" onclick="openImageModal(this)">View</button>
                            </div>
                        </div>
                        <div class="portfolio-item">
                            <img src="../images/artist4.jpg" alt="Portfolio work 4">
                            <div class="portfolio-overlay">
                                <button class="portfolio-btn" onclick="openImageModal(this)">View</button>
                            </div>
                        </div>
                        <div class="portfolio-item">
                            <img src="../images/artist5.jpg" alt="Portfolio work 5">
                            <div class="portfolio-overlay">
                                <button class="portfolio-btn" onclick="openImageModal(this)">View</button>
                            </div>
                        </div>
                        <div class="portfolio-item">
                            <img src="../images/artist6.jpg" alt="Portfolio work 6">
                            <div class="portfolio-overlay">
                                <button class="portfolio-btn" onclick="openImageModal(this)">View</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Availability Section -->
                <div class="content-card">
                    <h2>Availability</h2>
                    <div class="availability-info">
                        <div class="availability-status">
                            <span class="status-indicator available"></span>
                            <span>Currently accepting appointments</span>
                        </div>
                        <div class="working-hours">
                            <h3>Working Hours</h3>
                            <div class="hours-list">
                                <div class="hour-item">
                                    <span class="day">Monday - Friday</span>
                                    <span class="time">9:00 AM - 6:00 PM</span>
                                </div>
                                <div class="hour-item">
                                    <span class="day">Saturday</span>
                                    <span class="time">10:00 AM - 4:00 PM</span>
                                </div>
                                <div class="hour-item">
                                    <span class="day">Sunday</span>
                                    <span class="time">Closed</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reviews Section -->
                <div class="content-card">
                    <h2>Reviews</h2>
                    <div class="reviews-summary">
                        <div class="rating-breakdown">
                            <div class="rating-item">
                                <span>5‚òÖ</span>
                                <div class="rating-bar">
                                    <div class="rating-fill" style="width: 85%"></div>
                                </div>
                                <span>85%</span>
                            </div>
                            <div class="rating-item">
                                <span>4‚òÖ</span>
                                <div class="rating-bar">
                                    <div class="rating-fill" style="width: 12%"></div>
                                </div>
                                <span>12%</span>
                            </div>
                            <div class="rating-item">
                                <span>3‚òÖ</span>
                                <div class="rating-bar">
                                    <div class="rating-fill" style="width: 2%"></div>
                                </div>
                                <span>2%</span>
                            </div>
                            <div class="rating-item">
                                <span>2‚òÖ</span>
                                <div class="rating-bar">
                                    <div class="rating-fill" style="width: 1%"></div>
                                </div>
                                <span>1%</span>
                            </div>
                            <div class="rating-item">
                                <span>1‚òÖ</span>
                                <div class="rating-bar">
                                    <div class="rating-fill" style="width: 0%"></div>
                                </div>
                                <span>0%</span>
                            </div>
                        </div>
                    </div>
                    <div class="reviews-list" id="reviewsList">
                        <div class="review-item">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <img src="../images/user-avatar.png" alt="Reviewer" class="reviewer-avatar">
                                    <div>
                                        <h4>Sarah Johnson</h4>
                                        <span class="review-date">2 weeks ago</span>
                                    </div>
                                </div>
                                <div class="review-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            </div>
                            <p class="review-text">Amazing work! Alex was very professional and the tattoo exceeded my expectations. The attention to detail is incredible.</p>
                        </div>
                        <div class="review-item">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <img src="../images/user-avatar.png" alt="Reviewer" class="reviewer-avatar">
                                    <div>
                                        <h4>Mike Chen</h4>
                                        <span class="review-date">1 month ago</span>
                                    </div>
                                </div>
                                <div class="review-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                            </div>
                            <p class="review-text">Great experience from start to finish. Clean studio, professional service, and beautiful results. Highly recommended!</p>
                        </div>
                        <div class="review-item">
                            <div class="review-header">
                                <div class="reviewer-info">
                                    <img src="../images/user-avatar.png" alt="Reviewer" class="reviewer-avatar">
                                    <div>
                                        <h4>Emma Davis</h4>
                                        <span class="review-date">2 months ago</span>
                                    </div>
                                </div>
                                <div class="review-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
                            </div>
                            <p class="review-text">Very happy with my tattoo. Alex took the time to understand what I wanted and delivered exactly that. Will definitely come back!</p>
                        </div>
                    </div>
                </div>

                <!-- Contact Section -->
                <div class="content-card">
                    <h2>Contact & Location</h2>
                    <div class="contact-info">
                        <div class="contact-item">
                            <span class="contact-icon">üìç</span>
                            <div>
                                <h4>Studio Address</h4>
                                <p>123 Ink Street, New York, NY 10001</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon">üìû</span>
                            <div>
                                <h4>Phone</h4>
                                <p>+1 (555) 123-4567</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon">‚úâÔ∏è</span>
                            <div>
                                <h4>Email</h4>
                                <p>alex@inkstudio.com</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon">üåê</span>
                            <div>
                                <h4>Social Media</h4>
                                <div class="social-links">
                                    <a href="#" class="social-link">
                                        <img src="../images/instagram-icon.png" alt="Instagram">
                                    </a>
                                    <a href="#" class="social-link">
                                        <img src="../images/facebook-icon.png" alt="Facebook">
                                    </a>
                                    <a href="#" class="social-link">
                                        <img src="../images/twitter-icon.png" alt="Twitter">
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Image Modal -->
    <div id="imageModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <img id="modalImage" src="" alt="Portfolio Image">
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    
    <!-- Tus scripts -->
    <script src="../js/config.js"></script>
    <script src="../js/database.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/artist-profile.js"></script>
    <script src="../js/contact-widget.js"></script>
    <script>
        // Esperar a que el DOM est√© listo y Firebase est√© inicializado
        document.addEventListener('DOMContentLoaded', function() {
            // Verificar estado de autenticaci√≥n y actualizar la navegaci√≥n
            checkAuthState((user) => {
                console.log('Auth state changed:', user ? 'User logged in' : 'User logged out');
                const navMenu = document.querySelector('.nav-menu');
                
                if (user) {
                    // Usuario autenticado - mostrar enlace a dashboard y bot√≥n de cerrar sesi√≥n
                    getUserData(user.uid).then((userDoc) => {
                        if (userDoc.exists) {
                            const userData = userDoc.data();
                            console.log('User data loaded:', userData.userType);
                            
                            // Reemplazar enlaces de login/register con dashboard y logout
                            navMenu.innerHTML = `
                                <li class="nav-item">
                                    <a href="find-styles.html" class="nav-link">Styles</a>
                                </li>
                                <li class="nav-item">
                                    <a href="find-artists.html" class="nav-link">Artist</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#" class="nav-link">Messages</a>
                                </li>
                                <li class="nav-item">
                                    <a href="dashboard-${userData.userType}.html" class="nav-link">Dashboard</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#" id="logoutBtn" class="nav-button">Logout</a>
                                </li>
                            `;
                            
                            // Agregar evento al bot√≥n de cerrar sesi√≥n
                            document.getElementById('logoutBtn').addEventListener('click', function(e) {
                                e.preventDefault();
                                logoutUser().then(() => {
                                    console.log('User logged out successfully');
                                    // Recargar la p√°gina para mostrar el men√∫ de no autenticado
                                    window.location.reload();
                                }).catch((error) => {
                                    console.error('Error al cerrar sesi√≥n:', error);
                                    alert('Error al cerrar sesi√≥n. Por favor, intenta de nuevo.');
                                });
                            });
                        }
                    }).catch((error) => {
                        console.error('Error al obtener datos del usuario:', error);
                    });
                } else {
                    // Usuario no autenticado - mantener men√∫ original
                    navMenu.innerHTML = `
                        <li class="nav-item">
                            <a href="find-styles.html" class="nav-link">Styles</a>
                        </li>
                        <li class="nav-item">
                            <a href="find-artists.html" class="nav-link">Artist</a>
                        </li>
                        <li class="nav-item">
                            <a href="login.html" class="nav-button">Login</a>
                        </li>
                    `;
                }
            });
        });
    </script>
</body>
</html>
